<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<title>合同收入承包值维护</title>

<meta name="description" content="Static &amp; Dynamic Tables" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

	<script type="text/javascript" src="/TPSS_SR/js/head.js"></script>
	<style type="text/css">
		.mini-fit{
			height: 100% ! important;
		}
	</style>
</head>
<body>
<div class="mini-fit">
    <div style="width: 100%;">
        <div class="search" id="queryFrom" style="padding: 0px;height: 100px;">
            <table style="width: 100%;height: 100%;">
                <tr>
                     <td>
                        <span style="padding-left: 5px;">本地网：</span> 
                        <input id="LATN_ID" name="LATN_ID" class="mini-combobox" emptyText="请选择..." style="width:180px;margin-left: 5px;"/>
                     </td>
                     <td>
                        <span style="margin-left: 5px;">合同编号：</span> 
                        <input id="CONTRACT_ID" name="CONTRACT_ID" class="mini-autocomplete" required="true" style="width:180px;margin-left: 5px;"
	    					valueField="id" textField="text"
	        				url="../data/DataService?method=autoComplete" value="自动完成功能" text="自动完成功能"/>
                     </td>
                     <td>
                        <span style="margin-left: 18px;">合同名称：</span> 
                        <input id="CONTRACT_NAME" name="CONTRACT_NAME" class="mini-autocomplete" required="true" style="width:180px;margin-left: 5px;"
	    					valueField="id" textField="text"
	        				url="../data/DataService?method=autoComplete" value="自动完成功能" text="自动完成功能"/>
                     </td>
                </tr>
                
                <tr>
                     <td colspan="3">
                     	<a class="mini-button" style="margin-left: 5px;">查询</a>
                     	<a class="mini-button opBtn" onclick="add()" style="margin-left: 10px;" plain="false">新增</a>
                        <a class="mini-button opBtn" onclick="modify()" style="margin-left: 10px;" plain="false">修改</a>
                        <a class="mini-button opBtn" onclick="del()" style="margin-left: 10px;" plain="false">删除</a>
                     </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit" style="margin-top: 5px;">
        <div id="contract_datagrid" class="mini-datagrid" style="width: 100%; height: 100%"
             idField="ROLE_ID" allowResize="false" allowCellselect="false" multiSelect="true"
             showFooter="true" sortMode="client">
            <div property="columns">           
                <div type="checkcolumn" width="100px">选择</div>
                <div field="BILLING_CYCLE_ID" width="300px" headerAlign="center" align="center">账期</div>
                <div field="CONTRACT_ID" width="400px" headerAlign="center" align="center">合同编号</div>
                <div field="CONTRACT_NAME" width="100%" headerAlign="center" align="center">合同名称</div>
                <div field="LOWER_LIMIT" width="300px" headerAlign="center">下限</div>
                <div field="UPPER_LIMIT" width="300px" autoShowPopup="true" headerAlign="center" align="center">上限</div>
                
            </div>
        </div>
    </div>
	<script type="text/javascript">
	mini.parse();
	function query(){
		//查询合同收入承包值信息
	}
	function add() {		
        //var grid = mini.get("contract_datagrid");
        //grid.load();
		mini.open({
		    url: bootPATH + "../../html/contract/contractincome-add.html",
		    title: "新增", width: 400, height: 400,
		    onload: function () {
		        var iframe = this.getIFrameEl();
		        var data = { action: "new"};
		        //iframe.contentWindow.SetData(data);
		    },
		    ondestroy: function (action) {

		        //grid.reload();
		    }
		});
	}
	function modify() {
		var grid = mini.get("contract_datagrid");
        //grid.load();
		mini.open({
		    url: bootPATH + "../../html/contract/contractincome-modify.html",
		    title: "修改", width: 400, height: 400,
		    onload: function () {
		        var iframe = this.getIFrameEl();
		        var data = { action: "modify"};
		        //iframe.contentWindow.SetData(data);
		    },
		    ondestroy: function (action) {

		        //grid.reload();
		    }
		});
	}
	function del(){
		//删除选中的合同收入承包值信息
	}
	</script>
</body>
</html>
